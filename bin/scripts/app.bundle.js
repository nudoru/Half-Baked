(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var _rx=require("../nori/utils/Rx.js");var App=Nori.createApplication({mixins:[],store:require("./store/AppStore.js"),view:require("./view/AppView.js"),socket:require("../nori/service/SocketIO.js"),initialize:function initialize(){this.socket.initialize();this.view.initialize();this.store.initialize();this.store.subscribe("storeInitialized",this.onStoreInitialized.bind(this));this.store.loadStore()},onStoreInitialized:function onStoreInitialized(){this.runApplication()},runApplication:function runApplication(){this.view.removeLoadingMessage();this.view.render();this.store.setState({currentState:"PLAYER_SELECT"})},handleSocketMessage:function handleSocketMessage(payload){if(!payload){return}console.log("from Socket.IO server",payload);switch(payload.type){case this.socket.events().CONNECT:console.log("Connected!");this.store.setState({socketIOID:payload.id});return;case this.socket.events().USER_CONNECTED:console.log("Another client connected");return;case this.socket.events().USER_DISCONNECTED:console.log("Another client disconnected");return;case this.socket.events().DROPPED:console.log("You were dropped!",payload.payload);return;case this.socket.events().SYSTEM_MESSAGE:console.log("System message",payload.payload);return;case this.socket.events().CREATE_ROOM:console.log("create room");return;case this.socket.events().JOIN_ROOM:console.log("join room");return;case this.socket.events().LEAVE_ROOM:console.log("leave room");return;default:console.warn("Unhandled SocketIO message type",payload);return}}});module.exports=App},{"../nori/service/SocketIO.js":13,"../nori/utils/Rx.js":23,"./store/AppStore.js":2,"./view/AppView.js":3}],2:[function(require,module,exports){var _noriActionConstants=require("../../nori/action/ActionConstants.js"),_mixinMapFactory=require("../../nori/store/MixinMapFactory.js"),_mixinObservableSubject=require("../../nori/utils/MixinObservableSubject.js"),_mixinReducerStore=require("../../nori/store/MixinReducerStore.js");var AppStore=Nori.createStore({mixins:[_mixinMapFactory,_mixinReducerStore,_mixinObservableSubject()],gameStates:["TITLE","PLAYER_SELECT","WAITING_ON_PLAYER","MAIN_GAME","GAME_OVER"],initialize:function initialize(){this.addReducer(this.defaultReducerFunction);this.initializeReducerStore();this.setState(Nori.config());this.createSubject("storeInitialized")},loadStore:function loadStore(){this.setState({currentState:this.gameStates[0],localPlayer:{},remotePlayer:{},questionBank:[]});this.notifySubscribersOf("storeInitialized")},createUserObject:function createUserObject(id,type,name,appearance,behaviors){return{id:id,type:type,name:name,health:health||6,appearance:appearance,behaviors:behaviors||[]}},createQuestionObject:function createQuestionObject(prompt,distractors,pointValue){return{prompt:prompt,distractors:distractors,pointValue:pointValue}},defaultReducerFunction:function defaultReducerFunction(state,event){state=state||{};switch(event.type){case _noriActionConstants.CHANGE_STORE_STATE:return _.assign({},state,event.payload.data);default:return state}},handleStateMutation:function handleStateMutation(){this.notifySubscribers(this.getState())}});module.exports=AppStore()},{"../../nori/action/ActionConstants.js":11,"../../nori/store/MixinMapFactory.js":16,"../../nori/store/MixinReducerStore.js":17,"../../nori/utils/MixinObservableSubject.js":20}],3:[function(require,module,exports){var _appStore=require("../store/AppStore.js"),_mixinApplicationView=require("../../nori/view/ApplicationView.js"),_mixinNudoruControls=require("../../nori/view/MixinNudoruControls.js"),_mixinComponentViews=require("../../nori/view/MixinComponentViews.js"),_mixinStoreStateViews=require("../../nori/view/MixinStoreStateViews.js"),_mixinEventDelegator=require("../../nori/view/MixinEventDelegator.js"),_mixinObservableSubject=require("../../nori/utils/MixinObservableSubject.js");var AppView=Nori.createView({mixins:[_mixinApplicationView,_mixinNudoruControls,_mixinComponentViews,_mixinStoreStateViews,_mixinEventDelegator(),_mixinObservableSubject()],initialize:function initialize(){this.initializeApplicationView(["applicationscaffold","applicationcomponentsscaffold"]);this.initializeStateViews(_appStore);this.initializeNudoruControls();this.configureViews()},configureViews:function configureViews(){var screenTitle=require("./Screen.Title.js")(),screenPlayerSelect=require("./Screen.PlayerSelect.js")(),screenWaitingOnPlayer=require("./Screen.WaitingOnPlayer.js")(),screenMainGame=require("./Screen.MainGame.js")(),screenGameOver=require("./Screen.GameOver.js")(),gameStates=_appStore.gameStates;this.setViewMountPoint("#contents");this.mapStateToViewComponent(gameStates[0],"title",screenTitle);this.mapStateToViewComponent(gameStates[1],"playerselect",screenPlayerSelect);this.mapStateToViewComponent(gameStates[2],"waitingonplayer",screenWaitingOnPlayer);this.mapStateToViewComponent(gameStates[3],"game",screenMainGame);this.mapStateToViewComponent(gameStates[4],"gameover",screenGameOver)},render:function render(){}});module.exports=AppView()},{"../../nori/utils/MixinObservableSubject.js":20,"../../nori/view/ApplicationView.js":25,"../../nori/view/MixinComponentViews.js":26,"../../nori/view/MixinEventDelegator.js":27,"../../nori/view/MixinNudoruControls.js":28,"../../nori/view/MixinStoreStateViews.js":29,"../store/AppStore.js":2,"./Screen.GameOver.js":4,"./Screen.MainGame.js":5,"./Screen.PlayerSelect.js":6,"./Screen.Title.js":7,"./Screen.WaitingOnPlayer.js":8}],4:[function(require,module,exports){var _noriActions=require("../../nori/action/ActionCreator"),_appView=require("./AppView"),_appStore=require("../store/AppStore");var Component=_appView.createComponentView({initialize:function initialize(configProps){},defineEvents:function defineEvents(){return{"click #gameover__button-replay":function clickGameover__buttonReplay(){_appStore.apply(_noriActions.changeStoreState({currentState:_appStore.gameStates[1]}))}}},getInitialState:function getInitialState(){return _appStore.getState()},componentWillUpdate:function componentWillUpdate(){var nextState=_appStore.getState();nextState.greeting+=" (updated)";return nextState},componentDidMount:function componentDidMount(){},componentWillUnmount:function componentWillUnmount(){}});module.exports=Component},{"../../nori/action/ActionCreator":12,"../store/AppStore":2,"./AppView":3}],5:[function(require,module,exports){var _noriActions=require("../../nori/action/ActionCreator"),_appView=require("./AppView"),_appStore=require("../store/AppStore");var Component=_appView.createComponentView({initialize:function initialize(configProps){},defineEvents:function defineEvents(){return{"click #game__button-skip":function clickGame__buttonSkip(){_appStore.apply(_noriActions.changeStoreState({currentState:_appStore.gameStates[4]}))}}},getInitialState:function getInitialState(){return _appStore.getState()},componentWillUpdate:function componentWillUpdate(){var nextState=_appStore.getState();nextState.greeting+=" (updated)";return nextState},componentDidMount:function componentDidMount(){},componentWillUnmount:function componentWillUnmount(){}});module.exports=Component},{"../../nori/action/ActionCreator":12,"../store/AppStore":2,"./AppView":3}],6:[function(require,module,exports){var _noriActions=require("../../nori/action/ActionCreator"),_appView=require("./AppView"),_appStore=require("../store/AppStore");var Component=_appView.createComponentView({initialize:function initialize(configProps){},defineEvents:function defineEvents(){return{"click #select__button-joinroom":this.onJoinRoom.bind(this),"click #select__button-createroom":this.onCreateRoom.bind(this),"click #select__button-go":function clickSelect__buttonGo(){_appStore.apply(_noriActions.changeStoreState({currentState:_appStore.gameStates[2]}))}}},getInitialState:function getInitialState(){return _appStore.getState()},componentWillUpdate:function componentWillUpdate(){var nextState=_appStore.getState();nextState.greeting+=" (updated)";return nextState},componentDidMount:function componentDidMount(){},onJoinRoom:function onJoinRoom(){var roomID=document.querySelector("#select__roomid").value;console.log("Join room "+roomID);if(this.validateRoomID(roomID)){console.log("Room ID OK");_appView.notify("","Room ID ok!")}else{_appView.alert("Bad Room ID","The room ID is not correct. Must be a 5 digit number.")}},validateRoomID:function validateRoomID(roomID){if(isNaN(parseInt(roomID))){return false}else if(roomID.length!==5){return false}return true},onCreateRoom:function onCreateRoom(){console.log("create room")},componentWillUnmount:function componentWillUnmount(){}});module.exports=Component},{"../../nori/action/ActionCreator":12,"../store/AppStore":2,"./AppView":3}],7:[function(require,module,exports){var _noriActions=require("../../nori/action/ActionCreator"),_appView=require("./AppView"),_appStore=require("../store/AppStore");var Component=_appView.createComponentView({initialize:function initialize(configProps){},defineEvents:function defineEvents(){return{"click #title__button-start":function clickTitle__buttonStart(){_appStore.apply(_noriActions.changeStoreState({currentState:_appStore.gameStates[1]}))}}},getInitialState:function getInitialState(){return _appStore.getState()},componentWillUpdate:function componentWillUpdate(){var nextState=_appStore.getState();nextState.greeting+=" (updated)";return nextState},componentDidMount:function componentDidMount(){},componentWillUnmount:function componentWillUnmount(){}});module.exports=Component},{"../../nori/action/ActionCreator":12,"../store/AppStore":2,"./AppView":3}],8:[function(require,module,exports){var _noriActions=require("../../nori/action/ActionCreator"),_appView=require("./AppView"),_appStore=require("../store/AppStore");var Component=_appView.createComponentView({initialize:function initialize(configProps){},defineEvents:function defineEvents(){return{"click #waiting__button-skip":function clickWaiting__buttonSkip(){_appStore.apply(_noriActions.changeStoreState({currentState:_appStore.gameStates[3]}))}}},getInitialState:function getInitialState(){return _appStore.getState()},componentWillUpdate:function componentWillUpdate(){var nextState=_appStore.getState();nextState.greeting+=" (updated)";return nextState},componentDidMount:function componentDidMount(){},componentWillUnmount:function componentWillUnmount(){}});module.exports=Component},{"../../nori/action/ActionCreator":12,"../store/AppStore":2,"./AppView":3}],9:[function(require,module,exports){(function(){var _browserInfo=require("./nudoru/browser/BrowserInfo.js");if(_browserInfo.notSupported||_browserInfo.isIE9){document.querySelector("body").innerHTML="<h3>For the best experience, please use Internet Explorer 10+, Firefox, Chrome or Safari to view this application.</h3>"}else{window.onload=function(){window.Nori=require("./nori/Nori.js");window.APP=require("./app/App.js");APP.initialize()}}})()},{"./app/App.js":1,"./nori/Nori.js":10,"./nudoru/browser/BrowserInfo.js":31}],10:[function(require,module,exports){var Nori=function Nori(){var _dispatcher=require("./utils/Dispatcher.js"),_router=require("./utils/Router.js");_.templateSettings.interpolate=/{{([\s\S]+?)}}/g;function getDispatcher(){return _dispatcher}function getRouter(){return _router}function getConfig(){return _.assign({},window.APP_CONFIG_DATA||{})}function getCurrentRoute(){return _router.getCurrentRoute()}function assignArray(target,sourceArray){sourceArray.forEach(function(source){target=_.assign(target,source)});return target}function createApplication(custom){custom.mixins.push(this);return buildFromMixins(custom)}function createStore(custom){return function cs(){return _.assign({},buildFromMixins(custom))}}function createView(custom){return function cv(){return _.assign({},buildFromMixins(custom))}}function buildFromMixins(sourceObject){var mixins;if(sourceObject.mixins){mixins=sourceObject.mixins}mixins.push(sourceObject);return assignArray({},mixins)}function prop(store){var gettersetter=function gettersetter(){if(arguments.length){store=arguments[0]}return store};gettersetter.toJSON=function(){return store};return gettersetter}function withAttr(prop,callback,context){return function(e){e=e||event;var currentTarget=e.currentTarget||this,cntx=context||this;callback.call(cntx,prop in currentTarget?currentTarget[prop]:currentTarget.getAttribute(prop))}}return{config:getConfig,dispatcher:getDispatcher,router:getRouter,createApplication:createApplication,createStore:createStore,createView:createView,buildFromMixins:buildFromMixins,getCurrentRoute:getCurrentRoute,assignArray:assignArray,prop:prop,withAttr:withAttr}};module.exports=Nori()},{"./utils/Dispatcher.js":19,"./utils/Router.js":22}],11:[function(require,module,exports){module.exports={CHANGE_STORE_STATE:"CHANGE_STORE_STATE"}},{}],12:[function(require,module,exports){var _noriActionConstants=require("./ActionConstants.js");var NoriActionCreator={changeStoreState:function changeStoreState(data,id){var action={type:_noriActionConstants.CHANGE_STORE_STATE,payload:{id:id,data:data}};return action}};module.exports=NoriActionCreator},{"./ActionConstants.js":11}],13:[function(require,module,exports){var SocketIOConnector=function SocketIOConnector(){var _subject=new Rx.BehaviorSubject,_socketIO=io(),_events={PING:"ping",PONG:"pong",NOTIFY_CLIENT:"notify_client",NOTIFY_SERVER:"notify_server",CONNECT:"connect",DROPPED:"dropped",USER_CONNECTED:"user_connected",USER_DISCONNECTED:"user_disconnected",EMIT:"emit",BROADCAST:"broadcast",SYSTEM_MESSAGE:"system_message",MESSAGE:"message",CREATE_ROOM:"create_room",JOIN_ROOM:"join_room",LEAVE_ROOM:"leave_room"};function initialize(){_socketIO.on(_events.NOTIFY_CLIENT,onNotifyClient)}function onNotifyClient(payload){if(payload.type===_events.PING){notifyServer(_events.PONG,{})}else if(payload.type===_events.PONG){console.log("SOCKET.IO PONG!")}notifySubscribers(payload)}function ping(){notifyServer(_events.PING,{})}function notifyServer(type,payload){_socketIO.emit(_events.NOTIFY_SERVER,{type:type,payload:payload})}function subscribe(handler){return _subject.subscribe(handler)}function notifySubscribers(payload){_subject.onNext(payload)}function getLastNotification(){return _subject.getValue()}function getEventConstants(){return _.assign({},_events)}return{events:getEventConstants,initialize:initialize,ping:ping,notifyServer:notifyServer,subscribe:subscribe,notifySubscribers:notifySubscribers,getLastNotification:getLastNotification}};module.exports=SocketIOConnector()},{}],14:[function(require,module,exports){var Map=function Map(){var _this,_id,_parentCollection,_dirty=false,_entries=[],_map=Object.create(null);function initialize(initObj){if(!initObj.id){throw new Error("Store must be init'd with an id")}_this=this;_id=initObj.id;if(initObj.store){_dirty=true;_map=initObj.store}else if(initObj.json){setJSON(initObj.json)}}function setJSON(jstr){_dirty=true;try{_map=JSON.parse(jstr)}catch(e){throw new Error("MapCollection, error parsing JSON:",jstr,e)}}function getID(){return _id}function clear(){_map={};_dirty=true}function isDirty(){return _dirty}function markClean(){_dirty=false}function set(key,value){if(typeof key==="object"){_map=_.merge({},_map,key)}else{_map[key]=value}_dirty=true;dispatchChange("set_key")}function setKeyProp(key,prop,data){_map[key][prop]=data;_dirty=true;dispatchChange("set_key")}function get(key){var value=has(key)?_map[key]:undefined;if(value){value=_.cloneDeep(value)}return value}function getKeyProp(key,prop){var valueObj=has(key)?_map[key]:undefined,value=null;if(valueObj){value=_.cloneDeep(valueObj[prop])}return value}function has(key){return _map.hasOwnProperty(key)}function entries(){if(!_dirty&&_entries){return _entries}var arry=[];for(var key in _map){arry.push({key:key,value:_map[key]})}_entries=arry;_dirty=false;return arry}function size(){return keys().length}function keys(){return Object.keys(_map)}function values(){return entries().map(function(entry){return entry.value})}function remove(key){delete _map[key]}function filterValues(predicate){return values().filter(predicate)}function first(){return entries()[0]}function last(){var e=entries();return e[e.length-1]}function getAtIndex(i){return entries()[i]}function toObject(){return _.merge({},_map)}function transform(tObj){var transformed=Object.create(null);for(var prop in tObj){if(_map.hasOwnProperty(prop)){transformed[tObj[prop]]=_map[prop]}}return transformed}function dispatchChange(type){var payload={id:_id,mapType:"store"};_this.notifySubscribers(payload);if(_parentCollection.dispatchChange){_parentCollection.dispatchChange({id:_id},type||"map")}}function toJSON(){return JSON.stringify(_map)}function setParentCollection(collection){_parentCollection=collection}function getParentCollection(){return _parentCollection}return{initialize:initialize,getID:getID,clear:clear,isDirty:isDirty,markClean:markClean,setJSON:setJSON,set:set,setKeyProp:setKeyProp,get:get,getKeyProp:getKeyProp,has:has,remove:remove,keys:keys,values:values,entries:entries,filterValues:filterValues,size:size,first:first,last:last,getAtIndex:getAtIndex,toObject:toObject,transform:transform,toJSON:toJSON,setParentCollection:setParentCollection,getParentCollection:getParentCollection}};module.exports=Map},{}],15:[function(require,module,exports){var MapCollection=function MapCollection(){var _this,_id,_parentCollection,_caret=0,_children=[];function initialize(initObj){if(!initObj.id){throw new Error("StoreCollection must be init'd with an id")}_this=this;_id=initObj.id;if(initObj.stores){addMapsFromArray.call(_this,initObj.stores)}}function next(){var ret={};if(hasNext()){ret={value:_children[_caret++],done:!hasNext()}}else{ret=current()}return ret}function current(){return{value:_children[_caret],done:!hasNext()}}function rewind(){_caret=0;return _children[_caret]}function hasNext(){return _caret<_children.length}function isDirty(){var dirty=false;forEach(function checkDirty(map){if(map.isDirty()){dirty=true}});return dirty}function markClean(){forEach(function checkDirty(map){map.markClean()})}function addMapsFromArray(sArry){sArry.forEach(function(store){add(store)})}function addFromObjArray(oArry,idKey){console.warn("MapCollection, addFromObjArry, need to be fixed to remove reference to Nori.store()");oArry.forEach(function(obj){var id;if(obj.hasOwnProperty(idKey)){id=obj[idKey]}else{id=_id+"child"+_children.length}});dispatchChange(_id,"add_map")}function addFromJSONArray(json,idKey){console.warn("MapCollection, addFromJSONArry, need to be fixed to remove reference to Nori.store()");json.forEach(function(jstr){var id,obj;try{obj=JSON.parse(jstr)}catch(e){throw new Error("MapCollection, error parsing JSON:",jstr,e)}if(obj.hasOwnProperty(idKey)){id=obj[idKey]}else{id=_id+"child"+_children.length}});dispatchChange(_id,"add_map")}function getID(){return _id}function add(store){var currIdx=getMapIndex(store.getID());store.setParentCollection(_this);if(currIdx>=0){_children[currIdx]=store}else{_children.push(store)}dispatchChange(_id,"add_map")}function remove(storeID){var currIdx=getMapIndex(storeID);if(currIdx>=0){_children[currIdx].setParentCollection(null);_children[currIdx]=null;_children.splice(currIdx,1);dispatchChange(_id,"remove_map")}else{console.log(_id+" remove, store not in collection: "+storeID)}}function removeAll(){_children.forEach(function(map){map.setParentCollection(null)});_children=[];dispatchChange(_id,"remove_map")}function getMap(storeID){return _children.filter(function(store){return store.getID()===storeID})[0]}function getMapIndex(storeID){return _children.map(function(store){return store.getID()}).indexOf(storeID)}function dispatchChange(data,type){var payload={id:_id,type:type||"",mapType:"collection",mapID:data.id};_this.notifySubscribers(payload);if(_parentCollection){_parentCollection.dispatchChange({id:_id,store:getMap()})}}function hasMap(storeID){return _children[storeID]}function size(){return _children.length}function first(){return _children[0]}function last(){return _children[_children.length-1]}function atIndex(i){return _children[i]}function filter(predicate){return _children.filter(predicate)}function filterByKey(key,value){return _children.filter(function(map){return map.get(key)===value})}function forEach(func){return _children.forEach(func)}function map(func){return _children.map(func)}function entries(){var arry=[];_children.forEach(function(map){arry.push(map.entries())});return arry}function toJSON(){return JSON.stringify(_children)}function setParentCollection(collection){_parentCollection=collection}function getParentCollection(){return _parentCollection}return{initialize:initialize,current:current,next:next,hasNext:hasNext,rewind:rewind,getID:getID,isDirty:isDirty,markClean:markClean,add:add,addMapsFromArray:addMapsFromArray,addFromObjArray:addFromObjArray,addFromJSONArray:addFromJSONArray,remove:remove,removeAll:removeAll,getMap:getMap,hasMap:hasMap,size:size,first:first,last:last,atIndex:atIndex,filter:filter,filterByKey:filterByKey,forEach:forEach,map:map,entries:entries,toJSON:toJSON,dispatchChange:dispatchChange,setParentCollection:setParentCollection,getParentCollection:getParentCollection}};module.exports=MapCollection},{}],16:[function(require,module,exports){var MixinMapFactory=function MixinMapFactory(){var _mapCollectionList=Object.create(null),_mapList=Object.create(null),_mapCollectionFactory=require("./MapCollection.js"),_mapFactory=require("./Map.js"),_observableFactory=require("../utils/MixinObservableSubject.js");function createMapCollection(initObj,extras){var m=Nori.assignArray({},[_mapCollectionFactory(),_observableFactory(),extras]);m.initialize(initObj);return m}function createMap(initObj,extras){var m=Nori.assignArray({},[_mapFactory(),_observableFactory(),extras]);m.initialize(initObj);return m}function getMap(storeID){return _mapList[storeID]}function getMapCollection(storeID){return _mapCollectionList[storeID]}return{createMapCollection:createMapCollection,createMap:createMap,getMap:getMap,getMapCollection:getMapCollection}};module.exports=MixinMapFactory()},{"../utils/MixinObservableSubject.js":20,"./Map.js":14,"./MapCollection.js":15}],17:[function(require,module,exports){var MixinReducerStore=function MixinReducerStore(){var _this,_state,_stateReducers=[];function getState(){if(_state){return _state.getState()}return{}}function setState(state){if(!_.isEqual(state,_state)){_state.setState(state);_this.notifySubscribers({})}}function setReducers(reducerArray){_stateReducers=reducerArray}function addReducer(reducer){_stateReducers.push(reducer)}function initializeReducerStore(){if(!this.createSubject){console.warn("nori/store/MixinReducerStore needs nori/utils/MixinObservableSubject to notify")}var simpleStoreFactory=require("./SimpleStore.js");_this=this;_state=simpleStoreFactory();if(!_stateReducers){throw new Error("ReducerStore, must set a reducer before initialization")}applyReducers({})}function apply(actionObject){console.log("ReducerStore Apply: ",actionObject.type,actionObject.payload);applyReducers(actionObject)}function applyReducers(actionObject){var nextState=applyReducersToState(getState(),actionObject);setState(nextState);_this.handleStateMutation()}function handleStateMutation(){}function applyReducersToState(state,action){state=state||{};_stateReducers.forEach(function applyStateReducerFunction(reducerFunc){state=reducerFunc(state,action)});return state}return{initializeReducerStore:initializeReducerStore,getState:getState,setState:setState,apply:apply,setReducers:setReducers,addReducer:addReducer,applyReducers:applyReducers,applyReducersToState:applyReducersToState,handleStateMutation:handleStateMutation}};module.exports=MixinReducerStore()},{"./SimpleStore.js":18}],18:[function(require,module,exports){var SimpleStore=function SimpleStore(){var _internalState=Object.create(null);function getState(){return _.assign({},_internalState)}function setState(nextState){_internalState=_.assign(_internalState,nextState)}return{getState:getState,setState:setState}};module.exports=SimpleStore},{}],19:[function(require,module,exports){var Dispatcher=function Dispatcher(){var _subjectMap={},_receiverMap={},_id=0,_log=[],_queue=[],_timerObservable,_timerSubscription,_timerPausable;function subscribe(evtStr,handler,onceOrContext,once){var handlerContext=window;if(is.falsey(evtStr)){console.warn("Dispatcher: Fasley event string passed for handler",handler)}if(is.falsey(handler)){console.warn("Dispatcher: Fasley handler passed for event string",evtStr)}if(onceOrContext||onceOrContext===false){if(onceOrContext===true||onceOrContext===false){once=onceOrContext}else{handlerContext=onceOrContext}}if(!_subjectMap[evtStr]){_subjectMap[evtStr]=[]}var subject=new Rx.Subject;_subjectMap[evtStr].push({once:once,priority:0,handler:handler,context:handlerContext,subject:subject,type:0});return subject.subscribe(handler.bind(handlerContext))}function initTimer(){if(_timerObservable){_timerPausable.onNext(true);return}_timerPausable=new Rx.Subject;_timerObservable=Rx.Observable.interval(1).pausable(_timerPausable);_timerSubscription=_timerObservable.subscribe(processNextEvent)}function processNextEvent(){var evt=_queue.shift();if(evt){dispatchToReceivers(evt);dispatchToSubscribers(evt)}else{_timerPausable.onNext(false)}}function publish(payloadObj){_log.push(payloadObj);_queue.push(payloadObj);initTimer()}function dispatchToReceivers(payload){for(var id in _receiverMap){_receiverMap[id].handler(payload)}}function dispatchToSubscribers(payload){var subscribers=_subjectMap[payload.type],i;if(!subscribers){return}i=subscribers.length;while(i--){var subjObj=subscribers[i];if(subjObj.type===0){subjObj.subject.onNext(payload)}if(subjObj.once){unsubscribe(payload.type,subjObj.handler)}}}function unsubscribe(evtStr,handler){if(_subjectMap[evtStr]===undefined){return}var subscribers=_subjectMap[evtStr],handlerIdx=-1;for(var i=0,len=subscribers.length;i<len;i++){if(subscribers[i].handler===handler){handlerIdx=i;subscribers[i].subject.onCompleted();subscribers[i].subject.dispose();subscribers[i]=null}}if(handlerIdx===-1){return}subscribers.splice(handlerIdx,1);if(subscribers.length===0){delete _subjectMap[evtStr]}}function getLog(){return _log.slice(0)}function registerReceiver(handler){var id="ID_"+_id++;_receiverMap[id]={id:id,handler:handler};return id}function unregisterReceiver(id){if(_receiverMap.hasOwnProperty(id)){delete _receiverMap[id]}}return{subscribe:subscribe,unsubscribe:unsubscribe,publish:publish,getLog:getLog,registerReceiver:registerReceiver,unregisterReceiver:unregisterReceiver}};module.exports=Dispatcher()},{}],20:[function(require,module,exports){var MixinObservableSubject=function MixinObservableSubject(){var _subject=new Rx.Subject,_subjectMap={};function createSubject(name){if(!_subjectMap.hasOwnProperty(name)){_subjectMap[name]=new Rx.Subject}return _subjectMap[name]}function subscribe(handlerOrName,optHandler){if(is.string(handlerOrName)){return createSubject(handlerOrName).subscribe(optHandler)}else{return _subject.subscribe(handlerOrName)}}function notifySubscribers(payload){_subject.onNext(payload)}function notifySubscribersOf(name,payload){if(_subjectMap.hasOwnProperty(name)){_subjectMap[name].onNext(payload)}else{console.warn("MixinObservableSubject, no subscribers of "+name)}}return{subscribe:subscribe,createSubject:createSubject,notifySubscribers:notifySubscribers,notifySubscribersOf:notifySubscribersOf}};module.exports=MixinObservableSubject},{}],21:[function(require,module,exports){var Renderer=function Renderer(){var _domUtils=require("../../nudoru/browser/DOMUtils.js");function render(payload){var targetSelector=payload.target,html=payload.html,domEl,mountPoint=document.querySelector(targetSelector),cb=payload.callback;mountPoint.innerHTML="";if(html){domEl=_domUtils.HTMLStrToNode(html);mountPoint.appendChild(domEl)}if(cb){cb(domEl)}return domEl}return{render:render}};module.exports=Renderer()},{"../../nudoru/browser/DOMUtils.js":32}],22:[function(require,module,exports){var Router=function Router(){var _subject=new Rx.Subject,_hashChangeObservable,_objUtils=require("../../nudoru/core/ObjectUtils.js");function initialize(){_hashChangeObservable=Rx.Observable.fromEvent(window,"hashchange").subscribe(notifySubscribers)}function subscribe(handler){return _subject.subscribe(handler)}function notifySubscribers(){var eventPayload={routeObj:getCurrentRoute(),fragment:getURLFragment()};_subject.onNext(eventPayload)}function getCurrentRoute(){var fragment=getURLFragment(),parts=fragment.split("?"),route="/"+parts[0],queryStr=decodeURIComponent(parts[1]),queryStrObj=parseQueryStr(queryStr);if(queryStr==="=undefined"){queryStrObj={}}return{route:route,data:queryStrObj}}function parseQueryStr(queryStr){var obj={},parts=queryStr.split("&");parts.forEach(function(pairStr){var pairArr=pairStr.split("=");obj[pairArr[0]]=pairArr[1]});return obj}function set(route,dataObj){var path=route,data=[];if(!_objUtils.isNull(dataObj)){path+="?";for(var prop in dataObj){if(prop!=="undefined"&&dataObj.hasOwnProperty(prop)){data.push(prop+"="+encodeURIComponent(dataObj[prop]))}}path+=data.join("&")}updateURLFragment(path)}function getURLFragment(){var fragment=location.hash.slice(1);return fragment.toString().replace(/\/$/,"").replace(/^\//,"")}function updateURLFragment(path){window.location.hash=path}return{initialize:initialize,subscribe:subscribe,notifySubscribers:notifySubscribers,getCurrentRoute:getCurrentRoute,set:set}};var r=Router();r.initialize();module.exports=r},{"../../nudoru/core/ObjectUtils.js":39}],23:[function(require,module,exports){module.exports={dom:function dom(selector,event){var el=document.querySelector(selector);if(!el){console.warn("nori/utils/Rx, dom, invalid DOM selector: "+selector);return}return Rx.Observable.fromEvent(el,event.trim())},from:function from(ittr){return Rx.Observable.from(ittr)},interval:function interval(ms){return Rx.Observable.interval(ms)},doEvery:function doEvery(ms,handler){return this.interval(ms).subscribe(handler)},just:function just(value){return Rx.Observable.just(value)},empty:function empty(){return Rx.Observable.empty()}}},{}],24:[function(require,module,exports){var Templating=function Templating(){var _templateMap=Object.create(null),_templateHTMLCache=Object.create(null),_templateCache=Object.create(null),_DOMUtils=require("../../nudoru/browser/DOMUtils.js");function addTemplate(id,html){_templateMap[id]=html}function getSourceFromTemplateMap(id){var source=_templateMap[id];if(source){return cleanTemplateHTML(source)}return}function getSourceFromHTML(id){var src=document.getElementById(id),srchtml;if(src){srchtml=src.innerHTML}else{console.warn('nudoru/core/Templating, template not found: "'+id+'"');srchtml="<div>Template not found: "+id+"</div>"}return cleanTemplateHTML(srchtml)}function getSource(id){if(_templateHTMLCache[id]){return _templateHTMLCache[id]}var sourcehtml=getSourceFromTemplateMap(id);if(!sourcehtml){sourcehtml=getSourceFromHTML(id)}_templateHTMLCache[id]=sourcehtml;return sourcehtml}function getAllTemplateIDs(){var scriptTags=Array.prototype.slice.call(document.getElementsByTagName("script"),0);return scriptTags.filter(function(tag){return tag.getAttribute("type")==="text/template"}).map(function(tag){return tag.getAttribute("id")})}function getTemplate(id){if(_templateCache[id]){return _templateCache[id]}var templ=_.template(getSource(id));_templateCache[id]=templ;return templ}function asHTML(id,obj){var temp=getTemplate(id);return temp(obj)}function asElement(id,obj){
return _DOMUtils.HTMLStrToNode(asHTML(id,obj))}function cleanTemplateHTML(str){return str.trim()}function removeWhiteSpace(str){return str.replace(/(\r\n|\n|\r|\t)/gm,"").replace(/>\s+</g,"><")}function processForDOMInsertion(){var ids=getAllTemplateIDs();ids.forEach(function(id){var src=removeWhiteSpace(getSource(id));console.log(id,src)})}return{addTemplate:addTemplate,getSource:getSource,getAllTemplateIDs:getAllTemplateIDs,processForDOMInsertion:processForDOMInsertion,getTemplate:getTemplate,asHTML:asHTML,asElement:asElement}};module.exports=Templating()},{"../../nudoru/browser/DOMUtils.js":32}],25:[function(require,module,exports){var ApplicationView=function ApplicationView(){var _this,_domUtils=require("../../nudoru/browser/DOMUtils.js");function initializeApplicationView(scaffoldTemplates){_this=this;attachApplicationScaffolding(scaffoldTemplates)}function attachApplicationScaffolding(templates){if(!templates){return}var bodyEl=document.querySelector("body");templates.forEach(function(templ){bodyEl.appendChild(_domUtils.HTMLStrToNode(_this.template().getSource("template__"+templ,{})))})}function removeLoadingMessage(){var cover=document.querySelector("#initialization__cover"),message=document.querySelector(".initialization__message");TweenLite.to(cover,1,{alpha:0,ease:Quad.easeOut,onComplete:function onComplete(){cover.parentNode.removeChild(cover)}});TweenLite.to(message,2,{top:"+=50px",ease:Quad.easeIn,onComplete:function onComplete(){cover.removeChild(message)}})}return{initializeApplicationView:initializeApplicationView,removeLoadingMessage:removeLoadingMessage}};module.exports=ApplicationView()},{"../../nudoru/browser/DOMUtils.js":32}],26:[function(require,module,exports){var MixinComponentViews=function MixinComponentViews(){var _componentViewMap=Object.create(null),_componentHTMLTemplatePrefix="template__",_template=require("../utils/Templating.js");function getTemplate(){return _template}function mapViewComponent(componentID,componentIDorObj,mountPoint){var componentObj;if(typeof componentIDorObj==="string"){var componentFactory=require(componentIDorObj);componentObj=createComponentView(componentFactory())()}else{componentObj=componentIDorObj}_componentViewMap[componentID]={htmlTemplate:_template.getTemplate(_componentHTMLTemplatePrefix+componentID),controller:componentObj,mountPoint:mountPoint}}function createComponentView(componentSource){return function(){var componentViewFactory=require("./ViewComponent.js"),eventDelegatorFactory=require("./MixinEventDelegator.js"),observableFactory=require("../utils/MixinObservableSubject.js"),simpleStoreFactory=require("../store/SimpleStore.js"),componentAssembly,finalComponent,previousInitialize;componentAssembly=[componentViewFactory(),eventDelegatorFactory(),observableFactory(),simpleStoreFactory(),componentSource];if(componentSource.mixins){componentAssembly=componentAssembly.concat(componentSource.mixins)}finalComponent=Nori.assignArray({},componentAssembly);previousInitialize=finalComponent.initialize;finalComponent.initialize=function initialize(initObj){finalComponent.initializeComponent(initObj);previousInitialize.call(finalComponent,initObj)};return _.assign({},finalComponent)}}function showViewComponent(componentID,mountPoint){var componentView=_componentViewMap[componentID];if(!componentView){console.warn("No componentView mapped for id: "+componentID);return}if(!componentView.controller.isInitialized()){mountPoint=mountPoint||componentView.mountPoint;componentView.controller.initialize({id:componentID,template:componentView.htmlTemplate,mountPoint:mountPoint})}else{componentView.controller.update()}componentView.controller.componentRender();componentView.controller.mount()}function getComponentViewMap(){return _.assign({},_componentViewMap)}return{template:getTemplate,mapViewComponent:mapViewComponent,createComponentView:createComponentView,showViewComponent:showViewComponent,getComponentViewMap:getComponentViewMap}};module.exports=MixinComponentViews()},{"../store/SimpleStore.js":18,"../utils/MixinObservableSubject.js":20,"../utils/Templating.js":24,"./MixinEventDelegator.js":27,"./ViewComponent.js":30}],27:[function(require,module,exports){var MixinEventDelegator=function MixinEventDelegator(){var _eventsMap,_eventSubscribers,_rx=require("../utils/Rx");function setEvents(evtObj){_eventsMap=evtObj}function getEvents(){return _eventsMap}function delegateEvents(){if(!_eventsMap){return}_eventSubscribers=Object.create(null);for(var evtStrings in _eventsMap){if(_eventsMap.hasOwnProperty(evtStrings)){var mappings=evtStrings.split(","),eventHandler=_eventsMap[evtStrings];if(!is["function"](eventHandler)){console.warn("EventDelegator, handler for "+evtStrings+" is not a function");return}mappings.forEach(function(evtMap){evtMap=evtMap.trim();var eventStr=evtMap.split(" ")[0].trim(),selector=evtMap.split(" ")[1].trim();_eventSubscribers[evtStrings]=createHandler(selector,eventStr,eventHandler)})}}}function createHandler(selector,eventStr,eventHandler){return _rx.dom(selector,eventStr).subscribe(eventHandler)}function undelegateEvents(){if(!_eventsMap){return}for(var event in _eventSubscribers){_eventSubscribers[event].dispose();delete _eventSubscribers[event]}_eventSubscribers=Object.create(null)}return{setEvents:setEvents,getEvents:getEvents,undelegateEvents:undelegateEvents,delegateEvents:delegateEvents}};module.exports=MixinEventDelegator},{"../utils/Rx":23}],28:[function(require,module,exports){var MixinNudoruControls=function MixinNudoruControls(){var _notificationView=require("../../nudoru/components/ToastView.js"),_toolTipView=require("../../nudoru/components/ToolTipView.js"),_messageBoxView=require("../../nudoru/components/MessageBoxView.js"),_messageBoxCreator=require("../../nudoru/components/MessageBoxCreator.js"),_modalCoverView=require("../../nudoru/components/ModalCoverView.js");function initializeNudoruControls(){_toolTipView.initialize("tooltip__container");_notificationView.initialize("toast__container");_messageBoxView.initialize("messagebox__container");_modalCoverView.initialize()}function mbCreator(){return _messageBoxCreator}function addMessageBox(obj){return _messageBoxView.add(obj)}function removeMessageBox(id){_messageBoxView.remove(id)}function alert(message,title){return mbCreator().alert(title||"Alert",message)}function addNotification(obj){return _notificationView.add(obj)}function notify(message,title,type){return addNotification({title:title||"",type:type||_notificationView.type().DEFAULT,message:message})}return{initializeNudoruControls:initializeNudoruControls,mbCreator:mbCreator,addMessageBox:addMessageBox,removeMessageBox:removeMessageBox,addNotification:addNotification,alert:alert,notify:notify}};module.exports=MixinNudoruControls()},{"../../nudoru/components/MessageBoxCreator.js":34,"../../nudoru/components/MessageBoxView.js":35,"../../nudoru/components/ModalCoverView.js":36,"../../nudoru/components/ToastView.js":37,"../../nudoru/components/ToolTipView.js":38}],29:[function(require,module,exports){var MixinStoreStateViews=function MixinStoreStateViews(){var _this,_watchedStore,_currentViewID,_currentStoreState,_stateViewMountPoint,_stateViewIDMap=Object.create(null);function initializeStateViews(store){_this=this;_watchedStore=store;this.createSubject("viewChange");_watchedStore.subscribe(function onStateChange(){handleStateChange()})}function handleStateChange(){showViewForCurrentStoreState()}function showViewForCurrentStoreState(){var state=_watchedStore.getState().currentState;if(state){if(state!==_currentStoreState){_currentStoreState=state;showStateViewComponent.bind(_this)(_currentStoreState)}}}function setViewMountPoint(elID){_stateViewMountPoint=elID}function getViewMountPoint(){return _stateViewMountPoint}function mapStateToViewComponent(state,templateID,componentIDorObj){_stateViewIDMap[state]=templateID;this.mapViewComponent(templateID,componentIDorObj,_stateViewMountPoint)}function showStateViewComponent(state){var componentID=_stateViewIDMap[state];if(!componentID){console.warn("No view mapped for route: "+state);return}removeCurrentView();_currentViewID=componentID;this.showViewComponent(_currentViewID);TweenLite.set(_stateViewMountPoint,{alpha:0});TweenLite.to(_stateViewMountPoint,.25,{alpha:1,ease:Quad.easeIn});this.notifySubscribersOf("viewChange",componentID)}function removeCurrentView(){if(_currentViewID){_this.getComponentViewMap()[_currentViewID].controller.unmount()}_currentViewID=""}return{initializeStateViews:initializeStateViews,showViewForCurrentStoreState:showViewForCurrentStoreState,showStateViewComponent:showStateViewComponent,setViewMountPoint:setViewMountPoint,getViewMountPoint:getViewMountPoint,mapStateToViewComponent:mapStateToViewComponent}};module.exports=MixinStoreStateViews()},{}],30:[function(require,module,exports){var ViewComponent=function ViewComponent(){var _isInitialized=false,_configProps,_id,_templateObj,_html,_DOMElement,_mountPoint,_children=[],_isMounted=false,_renderer=require("../utils/Renderer");function initializeComponent(configProps){_configProps=configProps;_id=configProps.id;_templateObj=configProps.template;_mountPoint=configProps.mountPoint;this.setState(this.getInitialState());this.setEvents(this.defineEvents());this.createSubject("update");this.createSubject("mount");this.createSubject("unmount");_isInitialized=true}function defineEvents(){return undefined}function bindMap(mapIDorObj){var map;if(is.object(mapIDorObj)){map=mapIDorObj}else{map=Nori.store().getMap(mapIDorObj)||Nori.store().getMapCollection(mapIDorObj)}if(!map){console.warn("ViewComponent bindMap, map or mapcollection not found: "+mapIDorObj);return}if(!is["function"](map.subscribe)){console.warn("ViewComponent bindMap, map or mapcollection must be observable: "+mapIDorObj);return}map.subscribe(this.update.bind(this))}function componentWillUpdate(){return this.getState()}function update(){var currentState=this.getState();var nextState=this.componentWillUpdate();if(this.shouldComponentUpdate(nextState)){this.setState(nextState);if(_isMounted){if(this.shouldComponentRender(currentState)){this.unmount();this.componentRender();this.mount()}}this.notifySubscribersOf("update",this.getID())}}function shouldComponentUpdate(nextState){return is.existy(nextState)}function componentRender(){_html=this.render(this.getState())}function render(state){return _templateObj(state)}function mount(){if(!_html){throw new Error("Component "+_id+" cannot mount with no HTML. Call render() first?")}_isMounted=true;_DOMElement=_renderer.render({target:_mountPoint,html:_html});if(this.delegateEvents){this.delegateEvents()}if(this.componentDidMount){this.componentDidMount()}this.notifySubscribersOf("mount",this.getID())}function componentDidMount(){}function componentWillUnmount(){}function unmount(){this.componentWillUnmount();_isMounted=false;if(this.undelegateEvents){this.undelegateEvents()}_renderer.render({target:_mountPoint,html:""});_html="";_DOMElement=null;this.notifySubscribersOf("unmount",this.getID())}function isInitialized(){return _isInitialized}function getConfigProps(){return _configProps}function isMounted(){return _isMounted}function getInitialState(){this.setState({})}function getID(){return _id}function getDOMElement(){return _DOMElement}function getTemplate(){return _templateObj}function setTemplate(html){_templateObj=_.template(html)}return{initializeComponent:initializeComponent,defineEvents:defineEvents,isInitialized:isInitialized,getConfigProps:getConfigProps,getInitialState:getInitialState,getID:getID,getTemplate:getTemplate,setTemplate:setTemplate,getDOMElement:getDOMElement,isMounted:isMounted,bindMap:bindMap,componentWillUpdate:componentWillUpdate,shouldComponentUpdate:shouldComponentUpdate,update:update,componentRender:componentRender,render:render,mount:mount,componentDidMount:componentDidMount,componentWillUnmount:componentWillUnmount,unmount:unmount}};module.exports=ViewComponent},{"../utils/Renderer":21}],31:[function(require,module,exports){var browserInfo={appVersion:navigator.appVersion,userAgent:navigator.userAgent,isIE:-1<navigator.userAgent.indexOf("MSIE "),isIE6:this.isIE&&-1<navigator.appVersion.indexOf("MSIE 6"),isIE7:this.isIE&&-1<navigator.appVersion.indexOf("MSIE 7"),isIE8:this.isIE&&-1<navigator.appVersion.indexOf("MSIE 8"),isIE9:this.isIE&&-1<navigator.appVersion.indexOf("MSIE 9"),isFF:-1<navigator.userAgent.indexOf("Firefox/"),isChrome:-1<navigator.userAgent.indexOf("Chrome/"),isMac:-1<navigator.userAgent.indexOf("Macintosh,"),isMacSafari:-1<navigator.userAgent.indexOf("Safari")&&-1<navigator.userAgent.indexOf("Mac")&&-1===navigator.userAgent.indexOf("Chrome"),hasTouch:"ontouchstart"in document.documentElement,notSupported:this.isIE6||this.isIE7||this.isIE8||this.isIE9,mobile:{Android:function Android(){return navigator.userAgent.match(/Android/i)},BlackBerry:function BlackBerry(){return navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/BB10; Touch/)},iOS:function iOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function Opera(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function Windows(){return navigator.userAgent.match(/IEMobile/i)},any:function any(){return(this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows())!==null}},enhanced:function enhanced(){return!_browserInfo.isIE&&!_browserInfo.mobile.any()},mouseDownEvtStr:function mouseDownEvtStr(){return this.mobile.any()?"touchstart":"mousedown"},mouseUpEvtStr:function mouseUpEvtStr(){return this.mobile.any()?"touchend":"mouseup"},mouseClickEvtStr:function mouseClickEvtStr(){return this.mobile.any()?"touchend":"click"},mouseMoveEvtStr:function mouseMoveEvtStr(){return this.mobile.any()?"touchmove":"mousemove"}};module.exports=browserInfo},{}],32:[function(require,module,exports){module.exports={isElementEntirelyInViewport:function isElementEntirelyInViewport(el){var rect=el.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)},isElementInViewport:function isElementInViewport(el){var rect=el.getBoundingClientRect();return rect.bottom>0&&rect.right>0&&rect.left<(window.innerWidth||document.documentElement.clientWidth)&&rect.top<(window.innerHeight||document.documentElement.clientHeight)},isDomObj:function isDomObj(obj){return!!(obj.nodeType||obj===window)},position:function position(el){return{left:el.offsetLeft,top:el.offsetTop}},offset:function offset(el){var ol=0,ot=0;if(el.offsetParent){do{ol+=el.offsetLeft;ot+=el.offsetTop}while(el=el.offsetParent)}return{left:ol,top:ot}},removeAllElements:function removeAllElements(el){while(el.firstChild){el.removeChild(el.firstChild)}},HTMLStrToNode:function HTMLStrToNode(str){var temp=document.createElement("div");temp.innerHTML=str;return temp.firstChild},wrapElement:function wrapElement(wrapperStr,el){var wrapperEl=this.HTMLStrToNode(wrapperStr),elParent=el.parentNode;wrapperEl.appendChild(el);elParent.appendChild(wrapperEl);return wrapperEl},closest:function closest(el,selector){var matchesSelector=el.matches||el.webkitMatchesSelector||el.mozMatchesSelector||el.msMatchesSelector;while(el){if(matchesSelector.bind(el)(selector)){return el}else{el=el.parentElement}}return false},hasClass:function hasClass(el,className){if(el.classList){el.classList.contains(className)}else{new RegExp("(^| )"+className+"( |$)","gi").test(el.className)}},addClass:function addClass(el,className){if(el.classList){el.classList.add(className)}else{el.className+=" "+className}},removeClass:function removeClass(el,className){if(el.classList){el.classList.remove(className)}else{el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}},toggleClass:function toggleClass(el,className){if(this.hasClass(el,className)){this.removeClass(el,className)}else{this.addClass(el,className)}},applyCSS:function applyCSS(el,props){var key,pkey;for(key in props){if(props.hasOwnProperty(key)){el.style[key]=props[key]}}return el},computeWindowScale:function computeWindowScale(config){var hScale=window.innerHeight/config.height,wScale=window.innerWidth/config.width,scale=hScale>wScale?wScale:hScale;if(config.maxScale&&scale>config.maxScale){scale=config.maxScale}if(config.minScale&&scale<config.minScale){scale=config.minScale}return scale},getQSElementsAsArray:function getQSElementsAsArray(el,cls){return Array.prototype.slice.call(el.querySelectorAll(cls),0)},centerElementInViewPort:function centerElementInViewPort(el){var vpH=window.innerHeight,vpW=window.innerWidth,elR=el.getBoundingClientRect(),elH=elR.height,elW=elR.width;el.style.left=vpW/2-elW/2+"px";el.style.top=vpH/2-elH/2+"px"},captureFormData:function captureFormData(el){var dataObj=Object.create(null),textareaEls,inputEls,selectEls;textareaEls=Array.prototype.slice.call(el.querySelectorAll("textarea"),0);inputEls=Array.prototype.slice.call(el.querySelectorAll("input"),0);selectEls=Array.prototype.slice.call(el.querySelectorAll("select"),0);textareaEls.forEach(getInputFormData);inputEls.forEach(getInputFormData);selectEls.forEach(getSelectFormData);return dataObj;function getInputFormData(formEl){dataObj[getElNameOrID(formEl)]=formEl.value}function getSelectFormData(formEl){var sel=formEl.selectedIndex,val="";if(sel>=0){val=formEl.options[sel].value}dataObj[getElNameOrID(formEl)]=val}function getElNameOrID(formEl){var name="no_name";if(formEl.getAttribute("name")){name=formEl.getAttribute("name")}else if(formEl.getAttribute("id")){name=formEl.getAttribute("id")}return name}}}},{}],33:[function(require,module,exports){module.exports={apply3DToContainer:function apply3DToContainer(el){TweenLite.set(el,{css:{perspective:800,perspectiveOrigin:"50% 50%"}})},apply3DToElement:function apply3DToElement(el){TweenLite.set(el,{css:{transformStyle:"preserve-3d",backfaceVisibility:"hidden",transformOrigin:"50% 50%"}})},applyUnique3DToElement:function applyUnique3DToElement(el){TweenLite.set(el,{css:{transformStyle:"preserve-3d",backfaceVisibility:"hidden",transformPerspective:600,transformOrigin:"50% 50%"}})}}},{}],34:[function(require,module,exports){var MessageBoxCreator=function MessageBoxCreator(){var _messageBoxView=require("./MessageBoxView");function alert(title,message,modal,cb){return _messageBoxView.add({title:title,content:"<p>"+message+"</p>",type:_messageBoxView.type().DANGER,modal:modal,width:400,buttons:[{label:"Close",id:"Close",type:"",icon:"times",onClick:cb}]})}function confirm(title,message,okCB,modal){return _messageBoxView.add({title:title,content:"<p>"+message+"</p>",type:_messageBoxView.type().DEFAULT,modal:modal,width:400,buttons:[{label:"Cancel",id:"Cancel",type:"negative",icon:"times"},{label:"Proceed",id:"proceed",type:"positive",icon:"check",onClick:okCB}]})}function prompt(title,message,okCB,modal){return _messageBoxView.add({title:title,content:'<p class="text-center padding-bottom-double">'+message+'</p><textarea name="response" class="input-text" type="text" style="width:400px; height:75px; resize: none" autofocus="true"></textarea>',type:_messageBoxView.type().DEFAULT,modal:modal,width:450,buttons:[{label:"Cancel",id:"Cancel",type:"negative",icon:"times"},{label:"Proceed",id:"proceed",type:"positive",icon:"check",onClick:okCB}]})}function choice(title,message,selections,okCB,modal){var selectHTML='<select class="spaced" style="width:450px;height:200px" name="selection" autofocus="true" size="20">';selections.forEach(function(opt){selectHTML+='<option value="'+opt.value+'" '+(opt.selected==="true"?"selected":"")+">"+opt.label+"</option>"});selectHTML+="</select>";return _messageBoxView.add({title:title,content:'<p class="text-center padding-bottom-double">'+message+'</p><div class="text-center">'+selectHTML+"</div>",type:_messageBoxView.type().DEFAULT,modal:modal,width:500,buttons:[{label:"Cancel",id:"Cancel",type:"negative",icon:"times"},{label:"OK",id:"ok",type:"positive",icon:"check",onClick:okCB}]})}return{alert:alert,confirm:confirm,prompt:prompt,choice:choice}};module.exports=MessageBoxCreator()},{"./MessageBoxView":35}],35:[function(require,module,exports){var MessageBoxView=function MessageBoxView(){var _children=[],_counter=0,_highestZ=1e3,_defaultWidth=400,_types={DEFAULT:"default",INFORMATION:"information",SUCCESS:"success",WARNING:"warning",DANGER:"danger"},_typeStyleMap={"default":"",information:"messagebox__information",success:"messagebox__success",warning:"messagebox__warning",danger:"messagebox__danger"},_mountPoint,_buttonIconTemplateID="template__messagebox--button-icon",_buttonNoIconTemplateID="template__messagebox--button-noicon",_template=require("../../nori/utils/Templating.js"),_modal=require("./ModalCoverView.js"),_browserInfo=require("../../nudoru/browser/BrowserInfo.js"),_domUtils=require("../../nudoru/browser/DOMUtils.js"),_componentUtils=require("../../nudoru/browser/ThreeDTransforms.js");function initialize(elID){_mountPoint=document.getElementById(elID)}function add(initObj){var type=initObj.type||_types.DEFAULT,boxObj=createBoxObject(initObj);_children.push(boxObj);_mountPoint.appendChild(boxObj.element);assignTypeClassToElement(type,boxObj.element);configureButtons(boxObj);_componentUtils.applyUnique3DToElement(boxObj.element);TweenLite.set(boxObj.element,{css:{zIndex:_highestZ,width:initObj.width?initObj.width:_defaultWidth}});_domUtils.centerElementInViewPort(boxObj.element);Draggable.create("#"+boxObj.id,{bounds:window,onPress:function onPress(){_highestZ=Draggable.zIndex}});transitionIn(boxObj.element);if(initObj.modal){_modal.showNonDismissable(true)}return boxObj.id}function assignTypeClassToElement(type,element){if(type!=="default"){_domUtils.addClass(element,_typeStyleMap[type])}}function createBoxObject(initObj){var id="js__messagebox-"+(_counter++).toString(),obj={dataObj:initObj,id:id,modal:initObj.modal,element:_template.asElement("template__messagebox--default",{id:id,title:initObj.title,content:initObj.content}),streams:[]};return obj}function configureButtons(boxObj){var buttonData=boxObj.dataObj.buttons;if(!buttonData){buttonData=[{label:"Close",type:"",icon:"times",id:"default-close"}]}var buttonContainer=boxObj.element.querySelector(".footer-buttons");_domUtils.removeAllElements(buttonContainer);buttonData.forEach(function makeButton(buttonObj){buttonObj.id=boxObj.id+"-button-"+buttonObj.id;var buttonEl;if(buttonObj.hasOwnProperty("icon")){buttonEl=_template.asElement(_buttonIconTemplateID,buttonObj)}else{buttonEl=_template.asElement(_buttonNoIconTemplateID,buttonObj)}buttonContainer.appendChild(buttonEl);var btnStream=Rx.Observable.fromEvent(buttonEl,_browserInfo.mouseClickEvtStr()).subscribe(function(){if(buttonObj.hasOwnProperty("onClick")){if(buttonObj.onClick){buttonObj.onClick.call(this,captureFormData(boxObj.id))}}remove(boxObj.id)});boxObj.streams.push(btnStream)})}function captureFormData(boxID){return _domUtils.captureFormData(getObjByID(boxID).element)}function remove(id){var idx=getObjIndexByID(id),boxObj;if(idx>-1){boxObj=_children[idx];transitionOut(boxObj.element)}}function transitionIn(el){TweenLite.to(el,0,{alpha:0,rotationX:45,scale:2});TweenLite.to(el,.5,{alpha:1,rotationX:0,scale:1,ease:Circ.easeOut})}function transitionOut(el){TweenLite.to(el,.25,{alpha:0,rotationX:-45,scale:.25,ease:Circ.easeIn,onComplete:function onComplete(){onTransitionOutComplete(el)}})}function onTransitionOutComplete(el){var idx=getObjIndexByID(el.getAttribute("id")),boxObj=_children[idx];boxObj.streams.forEach(function(stream){stream.dispose()});Draggable.get("#"+boxObj.id).disable();_mountPoint.removeChild(el);_children[idx]=null;_children.splice(idx,1);checkModalStatus()}function checkModalStatus(){var isModal=false;_children.forEach(function(boxObj){if(boxObj.modal===true){isModal=true}});if(!isModal){_modal.hide(true)}}function getObjIndexByID(id){return _children.map(function(child){return child.id}).indexOf(id)}function getObjByID(id){return _children.filter(function(child){return child.id===id})[0]}function getTypes(){return _types}return{initialize:initialize,add:add,remove:remove,type:getTypes}};module.exports=MessageBoxView()},{"../../nori/utils/Templating.js":24,"../../nudoru/browser/BrowserInfo.js":31,"../../nudoru/browser/DOMUtils.js":32,"../../nudoru/browser/ThreeDTransforms.js":33,"./ModalCoverView.js":36}],36:[function(require,module,exports){var ModalCoverView=function ModalCoverView(){var _mountPoint=document,_modalCoverEl,_modalBackgroundEl,_modalCloseButtonEl,_modalClickStream,_isVisible,_notDismissable,_browserInfo=require("../../nudoru/browser/BrowserInfo.js");function initialize(){_isVisible=true;_modalCoverEl=_mountPoint.getElementById("modal__cover");_modalBackgroundEl=_mountPoint.querySelector(".modal__background");_modalCloseButtonEl=_mountPoint.querySelector(".modal__close-button");var modalBGClick=Rx.Observable.fromEvent(_modalBackgroundEl,_browserInfo.mouseClickEvtStr()),modalButtonClick=Rx.Observable.fromEvent(_modalCloseButtonEl,_browserInfo.mouseClickEvtStr());_modalClickStream=Rx.Observable.merge(modalBGClick,modalButtonClick).subscribe(function(){onModalClick()});hide(false)}function getIsVisible(){return _isVisible}function onModalClick(){if(_notDismissable)return;hide(true)}function showModalCover(shouldAnimate){_isVisible=true;var duration=shouldAnimate?.25:0;TweenLite.to(_modalCoverEl,duration,{autoAlpha:1,ease:Quad.easeOut});TweenLite.to(_modalBackgroundEl,duration,{alpha:1,ease:Quad.easeOut})}function show(shouldAnimate){if(_isVisible){return}_notDismissable=false;showModalCover(shouldAnimate);TweenLite.set(_modalCloseButtonEl,{scale:2,alpha:0});TweenLite.to(_modalCloseButtonEl,1,{autoAlpha:1,scale:1,ease:Bounce.easeOut,delay:1})}function showNonDismissable(shouldAnimate){if(_isVisible){return}_notDismissable=true;showModalCover(shouldAnimate);TweenLite.to(_modalCloseButtonEl,0,{autoAlpha:0})}function hide(shouldAnimate){if(!_isVisible){return}_isVisible=false;_notDismissable=false;var duration=shouldAnimate?.25:0;TweenLite.killDelayedCallsTo(_modalCloseButtonEl);TweenLite.to(_modalCoverEl,duration,{autoAlpha:0,ease:Quad.easeOut});TweenLite.to(_modalCloseButtonEl,duration/2,{autoAlpha:0,ease:Quad.easeOut})}function setOpacity(opacity){if(opacity<0||opacity>1){console.log("nudoru/component/ModalCoverView: setOpacity: opacity should be between 0 and 1");opacity=1}TweenLite.to(_modalBackgroundEl,.25,{alpha:opacity,ease:Quad.easeOut})}function setColor(r,g,b){TweenLite.to(_modalBackgroundEl,.25,{backgroundColor:"rgb("+r+","+g+","+b+")",ease:Quad.easeOut})}return{initialize:initialize,show:show,showNonDismissable:showNonDismissable,hide:hide,visible:getIsVisible,setOpacity:setOpacity,setColor:setColor}};module.exports=ModalCoverView()},{"../../nudoru/browser/BrowserInfo.js":31}],37:[function(require,module,exports){var ToastView=function ToastView(){var _children=[],_counter=0,_defaultExpireDuration=7e3,_types={DEFAULT:"default",INFORMATION:"information",SUCCESS:"success",WARNING:"warning",DANGER:"danger"},_typeStyleMap={"default":"",information:"toast__information",success:"toast__success",warning:"toast__warning",danger:"toast__danger"},_mountPoint,_template=require("../../nori/utils/Templating.js"),_browserInfo=require("../../nudoru/browser/BrowserInfo.js"),_domUtils=require("../../nudoru/browser/DOMUtils.js"),_componentUtils=require("../../nudoru/browser/ThreeDTransforms.js");function initialize(elID){_mountPoint=document.getElementById(elID)}function add(initObj){initObj.type=initObj.type||_types.DEFAULT;var toastObj=createToastObject(initObj.title,initObj.message);_children.push(toastObj);_mountPoint.insertBefore(toastObj.element,_mountPoint.firstChild);assignTypeClassToElement(initObj.type,toastObj.element);_componentUtils.apply3DToContainer(_mountPoint);_componentUtils.apply3DToElement(toastObj.element);var closeBtn=toastObj.element.querySelector(".toast__item-controls > button"),closeBtnSteam=Rx.Observable.fromEvent(closeBtn,_browserInfo.mouseClickEvtStr()),expireTimeStream=Rx.Observable.interval(_defaultExpireDuration);toastObj.defaultButtonStream=Rx.Observable.merge(closeBtnSteam,expireTimeStream).take(1).subscribe(function(){remove(toastObj.id)});transitionIn(toastObj.element);return toastObj.id}function assignTypeClassToElement(type,element){if(type!=="default"){_domUtils.addClass(element,_typeStyleMap[type])}}function createToastObject(title,message){var id="js__toast-toastitem-"+(_counter++).toString(),obj={id:id,element:_template.asElement("template__component--toast",{id:id,title:title,message:message}),defaultButtonStream:null};return obj}function remove(id){var idx=getObjIndexByID(id),toast;if(idx>-1){toast=_children[idx];rearrange(idx);transitionOut(toast.element)}}function transitionIn(el){TweenLite.to(el,0,{alpha:0});TweenLite.to(el,1,{alpha:1,ease:Quad.easeOut});rearrange()}function transitionOut(el){TweenLite.to(el,.25,{rotationX:-45,alpha:0,ease:Quad.easeIn,onComplete:function onComplete(){onTransitionOutComplete(el)}})}function onTransitionOutComplete(el){var idx=getObjIndexByID(el.getAttribute("id")),toastObj=_children[idx];toastObj.defaultButtonStream.dispose();_mountPoint.removeChild(el);_children[idx]=null;_children.splice(idx,1)}function rearrange(ignore){var i=_children.length-1,current,y=0;for(;i>-1;i--){if(i===ignore){continue}current=_children[i];TweenLite.to(current.element,.75,{y:y,ease:Bounce.easeOut});y+=10+current.element.clientHeight}}function getObjIndexByID(id){return _children.map(function(child){return child.id}).indexOf(id)}function getTypes(){return _types}return{initialize:initialize,add:add,remove:remove,type:getTypes}};module.exports=ToastView()},{"../../nori/utils/Templating.js":24,"../../nudoru/browser/BrowserInfo.js":31,"../../nudoru/browser/DOMUtils.js":32,"../../nudoru/browser/ThreeDTransforms.js":33}],38:[function(require,module,exports){var ToolTipView=function ToolTipView(){var _children=[],_counter=0,_defaultWidth=200,_types={DEFAULT:"default",INFORMATION:"information",SUCCESS:"success",WARNING:"warning",DANGER:"danger",COACHMARK:"coachmark"},_typeStyleMap={"default":"",information:"tooltip__information",success:"tooltip__success",warning:"tooltip__warning",danger:"tooltip__danger",coachmark:"tooltip__coachmark"},_positions={T:"T",TR:"TR",R:"R",BR:"BR",B:"B",BL:"BL",L:"L",TL:"TL"},_positionMap={T:"tooltip__top",TR:"tooltip__topright",R:"tooltip__right",BR:"tooltip__bottomright",B:"tooltip__bottom",BL:"tooltip__bottomleft",L:"tooltip__left",TL:"tooltip__topleft"},_mountPoint,_template=require("../../nori/utils/Templating.js"),_domUtils=require("../../nudoru/browser/DOMUtils.js");function initialize(elID){_mountPoint=document.getElementById(elID)}function add(initObj){initObj.type=initObj.type||_types.DEFAULT;var tooltipObj=createToolTipObject(initObj.title,initObj.content,initObj.position,initObj.targetEl,initObj.gutter,initObj.alwaysVisible);_children.push(tooltipObj);_mountPoint.appendChild(tooltipObj.element);tooltipObj.arrowEl=tooltipObj.element.querySelector(".arrow");assignTypeClassToElement(initObj.type,initObj.position,tooltipObj.element);TweenLite.set(tooltipObj.element,{css:{autoAlpha:tooltipObj.alwaysVisible?1:0,width:initObj.width?initObj.width:_defaultWidth}});tooltipObj.width=tooltipObj.element.getBoundingClientRect().width;tooltipObj.height=tooltipObj.element.getBoundingClientRect().height;assignEventsToTargetEl(tooltipObj);positionToolTip(tooltipObj);if(tooltipObj.position===_positions.L||tooltipObj.position===_positions.R){centerArrowVertically(tooltipObj)}if(tooltipObj.position===_positions.T||tooltipObj.position===_positions.B){centerArrowHorizontally(tooltipObj)}return tooltipObj.element}function assignTypeClassToElement(type,position,element){if(type!=="default"){_domUtils.addClass(element,_typeStyleMap[type])}_domUtils.addClass(element,_positionMap[position])}function createToolTipObject(title,message,position,target,gutter,alwaysVisible){var id="js__tooltip-tooltipitem-"+(_counter++).toString(),obj={
id:id,position:position,targetEl:target,alwaysVisible:alwaysVisible||false,gutter:gutter||15,elOverStream:null,elOutStream:null,height:0,width:0,element:_template.asElement("template__component--tooltip",{id:id,title:title,message:message}),arrowEl:null};return obj}function assignEventsToTargetEl(tooltipObj){if(tooltipObj.alwaysVisible){return}tooltipObj.elOverStream=Rx.Observable.fromEvent(tooltipObj.targetEl,"mouseover").subscribe(function(evt){showToolTip(tooltipObj.id)});tooltipObj.elOutStream=Rx.Observable.fromEvent(tooltipObj.targetEl,"mouseout").subscribe(function(evt){hideToolTip(tooltipObj.id)})}function showToolTip(id){var tooltipObj=getObjByID(id);if(tooltipObj.alwaysVisible){return}positionToolTip(tooltipObj);transitionIn(tooltipObj.element)}function positionToolTip(tooltipObj){var gutter=tooltipObj.gutter,xPos=0,yPos=0,tgtProps=tooltipObj.targetEl.getBoundingClientRect();if(tooltipObj.position===_positions.TL){xPos=tgtProps.left-tooltipObj.width;yPos=tgtProps.top-tooltipObj.height}else if(tooltipObj.position===_positions.T){xPos=tgtProps.left+(tgtProps.width/2-tooltipObj.width/2);yPos=tgtProps.top-tooltipObj.height-gutter}else if(tooltipObj.position===_positions.TR){xPos=tgtProps.right;yPos=tgtProps.top-tooltipObj.height}else if(tooltipObj.position===_positions.R){xPos=tgtProps.right+gutter;yPos=tgtProps.top+(tgtProps.height/2-tooltipObj.height/2)}else if(tooltipObj.position===_positions.BR){xPos=tgtProps.right;yPos=tgtProps.bottom}else if(tooltipObj.position===_positions.B){xPos=tgtProps.left+(tgtProps.width/2-tooltipObj.width/2);yPos=tgtProps.bottom+gutter}else if(tooltipObj.position===_positions.BL){xPos=tgtProps.left-tooltipObj.width;yPos=tgtProps.bottom}else if(tooltipObj.position===_positions.L){xPos=tgtProps.left-tooltipObj.width-gutter;yPos=tgtProps.top+(tgtProps.height/2-tooltipObj.height/2)}TweenLite.set(tooltipObj.element,{x:xPos,y:yPos})}function centerArrowHorizontally(tooltipObj){var arrowProps=tooltipObj.arrowEl.getBoundingClientRect();TweenLite.set(tooltipObj.arrowEl,{x:tooltipObj.width/2-arrowProps.width/2})}function centerArrowVertically(tooltipObj){var arrowProps=tooltipObj.arrowEl.getBoundingClientRect();TweenLite.set(tooltipObj.arrowEl,{y:tooltipObj.height/2-arrowProps.height/2-2})}function hideToolTip(id){var tooltipObj=getObjByID(id);if(tooltipObj.alwaysVisible){return}transitionOut(tooltipObj.element)}function transitionIn(el){TweenLite.to(el,.5,{autoAlpha:1,ease:Circ.easeOut})}function transitionOut(el){TweenLite.to(el,.05,{autoAlpha:0,ease:Circ.easeOut})}function remove(el){getObjByElement(el).forEach(function(tooltip){if(tooltip.elOverStream){tooltip.elOverStream.dispose()}if(tooltip.elOutStream){tooltip.elOutStream.dispose()}TweenLite.killDelayedCallsTo(tooltip.element);_mountPoint.removeChild(tooltip.element);var idx=getObjIndexByID(tooltip.id);_children[idx]=null;_children.splice(idx,1)})}function getObjByID(id){return _children.filter(function(child){return child.id===id})[0]}function getObjIndexByID(id){return _children.map(function(child){return child.id}).indexOf(id)}function getObjByElement(el){return _children.filter(function(child){return child.targetEl===el})}function getTypes(){return _types}function getPositions(){return _positions}return{initialize:initialize,add:add,remove:remove,type:getTypes,position:getPositions}};module.exports=ToolTipView()},{"../../nori/utils/Templating.js":24,"../../nudoru/browser/DOMUtils.js":32}],39:[function(require,module,exports){module.exports={isNull:function isNull(obj){var isnull=false;if(is.falsey(obj)){return true}for(var prop in obj){if(prop===undefined||obj[prop]===undefined)isnull=true;break}return isnull},dynamicSort:function dynamicSort(property){return function(a,b){return a[property]<b[property]?-1:a[property]>b[property]?1:0}},searchObjects:function(_searchObjects){function searchObjects(_x,_x2,_x3){return _searchObjects.apply(this,arguments)}searchObjects.toString=function(){return _searchObjects.toString()};return searchObjects}(function(obj,key,val){var objects=[];for(var i in obj){if(typeof obj[i]==="object"){objects=objects.concat(searchObjects(obj[i],key,val))}else if(i===key&&obj[key]===val){objects.push(obj)}}return objects}),getObjectFromString:function getObjectFromString(obj,str){var i=0,path=str.split("."),len=path.length;for(;i<len;i++){obj=obj[path[i]]}return obj},getObjectIndexFromId:function getObjectIndexFromId(obj,id){if(typeof obj==="object"){for(var i=0;i<obj.length;i++){if(typeof obj[i]!=="undefined"&&typeof obj[i].id!=="undefined"&&obj[i].id===id){return i}}}return false},extend:function extend(out){out=out||{};for(var i=1;i<arguments.length;i++){if(!arguments[i]){continue}for(var key in arguments[i]){if(arguments[i].hasOwnProperty(key)){out[key]=arguments[i][key]}}}return out},deepExtend:function(_deepExtend){function deepExtend(_x4){return _deepExtend.apply(this,arguments)}deepExtend.toString=function(){return _deepExtend.toString()};return deepExtend}(function(out){out=out||{};for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(!obj){continue}for(var key in obj){if(obj.hasOwnProperty(key)){if(typeof obj[key]==="object"){deepExtend(out[key],obj[key])}else{out[key]=obj[key]}}}}return out}),basicFactory:function basicFactory(prototype){var proto=prototype,obj=Object.create(proto.methods);if(proto.hasOwnProperty("closure")){proto.closures.forEach(function(closure){closure.call(obj)})}if(proto.hasOwnProperty("state")){for(var key in proto.state){obj[key]=proto.state[key]}}return obj},keyMirror:function keyMirror(obj){var ret={};var key;if(!(obj instanceof Object&&!Array.isArray(obj))){throw new Error("keyMirror(...): Argument must be an object.")}for(key in obj){if(obj.hasOwnProperty(key)){ret[key]=key}}return ret}}},{}]},{},[9]);