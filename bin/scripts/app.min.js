/*! app-framework 24-08-2015 */
define("app/App",function(a,b){var c=a("nori/events/EventConstants"),d=Nori.createApplication({mixins:[],appModel:a("app/model/AppModel"),appView:a("app/view/AppView"),initialize:function(){Nori.dispatcher().subscribe(c.APP_MODEL_INITIALIZED,this.onModelInitialized.bind(this),!0),this.initializeApplication(),this.view().initialize(),this.model().initialize()},onModelInitialized:function(){this.runApplication()},runApplication:function(){this.view().removeLoadingMessage(),this.view().render(),this.view().showViewFromURLHash(!0)}});b.exports=d}),define("app/events/EventConstants",function(a,b){var c=a("nudoru/core/ObjectUtils");_.merge(b.exports,c.keyMirror({CHANGE_GAME_STATE:null,LOCAL_PLAYER_CONNECT:null,SELECT_PLAYER:null,REMOTE_PLAYER_CONNECT:null,GAME_START:null,LOCAL_QUESTION:null,REMOTE_QUESTION:null,LOCAL_PLAYER_HEALTH_CHANGE:null,REMOTE_PLAYER_HEALTH_CHAGE:null,GAME_OVER:null}))}),define("app/events/EventCreator",function(a,b){var c=a("app/events/EventConstants"),d={someEvent:function(a){var b={type:c.SOMETHING_HAPPENED,payload:{theData:a}};return Nori.dispatcher().publish(b),b}};b.exports=d}),define("app/model/AppModel",function(a,b){var c=a("nori/events/EventCreator"),d=a("nori/events/EventConstants"),e=a("nori/model/MixinMapFactory"),f=a("nori/utils/MixinObservableSubject"),g=a("nori/model/MixinReducerModel"),h=Nori.createApplicationModel({mixins:[e,g,f()],gameStates:["TITLE","PLAYER_SELECT","WAITING_ON_PLAYER","MAIN_GAME","GAME_OVER"],initialize:function(){this.addReducer(this.defaultReducerFunction),this.initializeReducerModel(),this.modelReady()},modelReady:function(){this.setState({currentState:this.gameStates[0],localPlayer:{},remotePlayer:{},questionBank:[]}),c.applicationModelInitialized()},createUserObject:function(a,b,c,d,e){return{id:a,type:b,name:c,health:health||6,appearance:d,behaviors:e||[]}},createQuestionObject:function(a,b,c){return{prompt:a,distractors:b,pointVaule:c}},defaultReducerFunction:function(a,b){switch(a=a||{},b.type){case d.CHANGE_MODEL_STATE:return _.assign({},a,b.payload.data);default:return a}},handleStateMutation:function(){this.notifySubscribers()}});b.exports=h}),define("app/view/AppView",function(a,b){var c=a("nori/events/EventCreator"),d=a("nori/events/EventConstants"),e=a("nori/view/ApplicationView"),f=a("nori/view/MixinNudoruControls"),g=a("nori/view/MixinComponentViews"),h=a("nori/view/MixinRouteViews"),i=a("nori/view/MixinEventDelegator"),j=Nori.createApplicationView({mixins:[e,f,g,h,i()],initialize:function(){this.initializeApplicationView(["applicationscaffold","applicationcomponentsscaffold"]),this.initializeRouteViews(),this.initializeNudoruControls(),this.configureApplicationViewEvents();var b=a("app/view/Screen.Title"),d=a("app/view/Screen.PlayerSelect"),e=a("app/view/Screen.WaitingOnPlayer"),f=a("app/view/Screen.MainGame"),g=a("app/view/Screen.GameOver");this.setRouteViewMountPoint("#contents"),this.mapRouteToViewComponent("/","title",b),this.mapRouteToViewComponent("/playerselect","playerselect",d),this.mapRouteToViewComponent("/waiting","waitingonplayer",e),this.mapRouteToViewComponent("/game","game",f),this.mapRouteToViewComponent("/gameover","gameover",g),c.applicationViewInitialized()},render:function(){},configureApplicationViewEvents:function(){Nori.dispatcher().subscribe(d.NOTIFY_USER,function(a){this.notify(a.payload.message,a.payload.title,a.payload.type)}),Nori.dispatcher().subscribe(d.ALERT_USER,function(a){this.alert(a.payload.message,a.payload.title)})}});b.exports=j}),define("app/view/DebugControlsTestingSubView",function(a,b){var c=function(){function b(){j.initialize()}function c(){console.log(this.getID()+", subview did mount"),d=document.getElementById("action-one"),e=document.getElementById("action-two"),f=document.getElementById("action-three"),g=document.getElementById("action-four"),h=document.getElementById("action-five"),i=document.getElementById("action-six"),k.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. ",position:"L",targetEl:g,type:"information"}),k.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. ",position:"B",targetEl:g,type:"information"}),k.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. This is a button, you click it dummy. ",position:"R",targetEl:g,type:"information"}),k.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. This is a button, you click it dummy. This is a button, you click it dummy. ",position:"T",targetEl:g,type:"information"}),d.addEventListener("click",function(){Nori.view().addMessageBox({title:j.getSentence(2,4),content:j.getParagraph(2,4),type:"warning",modal:!0,width:500})}),e.addEventListener("click",function(){Nori.view().addMessageBox({title:j.getSentence(10,20),content:j.getParagraph(2,4),type:"default",modal:!1,buttons:[{label:"Yes",id:"yes",type:"default",icon:"check",onClick:function(){console.log("yes")}},{label:"Maybe",id:"maybe",type:"positive",icon:"cog",onClick:function(){console.log("maybe")}},{label:"Nope",id:"nope",type:"negative",icon:"times"}]})}),f.addEventListener("click",function(){Nori.view().addNotification({title:j.getSentence(3,6),type:"information",content:j.getParagraph(1,2)}),k.remove(g)}),g.addEventListener("click",function(){console.log("Four")}),h.addEventListener("click",function(){Nori.dispatcher().publish({type:l.CHANGE_ROUTE,payload:{route:"/one",data:{prop:"some data",moar:"25"}}})}),i.addEventListener("click",function(){Nori.dispatcher().publish({type:l.CHANGE_ROUTE,payload:{route:"/styles",data:"test"}})})}var d,e,f,g,h,i,j=a("nudoru/browser/Lorem"),k=a("nudoru/component/ToolTipView"),l=a("nori/events/EventConstants");return{initialize:b,componentDidMount:c}};b.exports=c}),define("app/view/Screen.GameOver",function(a,b){var c=a("nori/events/EventCreator"),d=(a("app/events/EventConstants"),Nori.view().createComponentView({initialize:function(){},getInitialState:function(){return APP.model().getState()},componentWillUpdate:function(){var a=APP.model().getState();return a.greeting+=" (updated)",a},componentDidMount:function(){this.setEvents({"click #gameover__button-replay":function(){c.changeRoute("/playerselect")}}),this.delegateEvents()},componentWillUnmount:function(){}}));b.exports=d}),define("app/view/Screen.MainGame",function(a,b){var c=a("nori/events/EventCreator"),d=(a("app/events/EventConstants"),Nori.view().createComponentView({initialize:function(){},getInitialState:function(){return APP.model().getState()},componentWillUpdate:function(){var a=APP.model().getState();return a.greeting+=" (updated)",a},componentDidMount:function(){this.setEvents({"click #game__button-skip":function(){c.changeRoute("/gameover")}}),this.delegateEvents()},componentWillUnmount:function(){}}));b.exports=d}),define("app/view/Screen.PlayerSelect",function(a,b){var c=a("nori/events/EventCreator"),d=(a("app/events/EventConstants"),Nori.view().createComponentView({initialize:function(){},getInitialState:function(){return APP.model().getState()},componentWillUpdate:function(){var a=APP.model().getState();return a.greeting+=" (updated)",a},componentDidMount:function(){this.setEvents({"click #select__button-go":function(){c.changeRoute("/waiting")}}),this.delegateEvents()},componentWillUnmount:function(){}}));b.exports=d}),define("app/view/Screen.Title",function(a,b){var c=a("nori/events/EventCreator"),d=(a("app/events/EventConstants"),Nori.view().createComponentView({initialize:function(){},getInitialState:function(){return APP.model().getState()},componentWillUpdate:function(){var a=APP.model().getState();return a.greeting+=" (updated)",a},componentDidMount:function(){this.setEvents({"click #title__button-start":function(){c.changeRoute("/playerselect")}}),this.delegateEvents()},componentWillUnmount:function(){}}));b.exports=d}),define("app/view/Screen.WaitingOnPlayer",function(a,b){var c=a("nori/events/EventCreator"),d=(a("app/events/EventConstants"),Nori.view().createComponentView({initialize:function(){},getInitialState:function(){return APP.model().getState()},componentWillUpdate:function(){var a=APP.model().getState();return a.greeting+=" (updated)",a},componentDidMount:function(){this.setEvents({"click #waiting__button-skip":function(){c.changeRoute("/game")}}),this.delegateEvents()},componentWillUnmount:function(){}}));b.exports=d}),define("app/view/TemplateViewComponent",function(a,b){var c=Nori.view().createComponentView({initialize:function(){},getInitialState:function(){return APP.model().getState()},componentWillUpdate:function(){var a=APP.model().getState();return a.greeting+=" (updated)",a},componentDidMount:function(){},componentWillUnmount:function(){}});b.exports=c}),define("app/view/TemplateViewComponentFactory",function(a,b){var c=function(){function a(){}function b(){var a=Object.create(null);this.setState(a)}function c(){}function d(){}return{initialize:a,componentWillUpdate:b,componentDidMount:c,componentWillUnmount:d}};b.exports=c}),function(){var a=require("nudoru/browser/BrowserInfo");a.notSupported||a.isIE9?document.querySelector("body").innerHTML="<h3>For the best experience, please use Internet Explorer 10+, Firefox, Chrome or Safari to view this application.</h3>":window.onload=function(){window.APP=require("app/App"),APP.initialize()}}();